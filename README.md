# Oups
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯
ğŸ¤¯

## BONUS â€“ QualitÃ© de code dans la pipeline CI (niveau avancÃ©)
### Objectifs du bonus
* Comprendre ce quâ€™on appelle la qualitÃ© de code
* DÃ©couvrir des outils utilisÃ©s en entreprise pour :
    * imposer un style de code cohÃ©rent
    * dÃ©tecter des bugs potentiels
* Ajouter un troisiÃ¨me job dans la pipeline CI
* Observer lâ€™impact dâ€™une rÃ¨gle de qualitÃ© sur la livraison

### Contexte
Jusquâ€™ici, la pipeline vÃ©rifie :
* que le code fonctionne (tests unitaires)
* que lâ€™ensemble fonctionne (tests dâ€™intÃ©gration)

En entreprise, ce nâ€™est pas suffisant.

Un code peut :
* passer les tests
* mais Ãªtre difficile Ã  maintenir
* ou contenir des bugs subtils

Câ€™est lÃ  quâ€™interviennent les outils de qualitÃ© statique.

### Ã‰tape 1 â€“ Ajouter les outils de qualitÃ© au projet
Ajoutez dans le pom.xml les plugins :
* maven-checkstyle-plugin
* spotbugs-maven-plugin
```xml
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-checkstyle-plugin</artifactId>
                <version>3.4.0</version>
                <configuration>
                    <configLocation>checkstyle.xml</configLocation>
                    <encoding>UTF-8</encoding>
                    <consoleOutput>true</consoleOutput>
                    <failsOnError>true</failsOnError>
                    <includeTestSourceDirectory>false</includeTestSourceDirectory>
                </configuration>
                <executions>
                    <execution>
                        <id>checkstyle</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>check</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>com.github.spotbugs</groupId>
                <artifactId>spotbugs-maven-plugin</artifactId>
                <version>4.8.6.4</version>
                <configuration>
                    <effort>Max</effort>
                    <threshold>Low</threshold>
                    <failOnError>true</failOnError>
                </configuration>
                <executions>
                    <execution>
                        <id>spotbugs</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>check</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
```

Ces plugins doivent :
* sâ€™exÃ©cuter lors de la phase verify
* faire Ã©chouer le build en cas de problÃ¨me

### Ã‰tape 2 â€“ Ajouter les rÃ¨gles Checkstyle
CrÃ©ez un fichier checkstyle.xml Ã  la racine du projet.
```xml
<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
        "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
        "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">
    <module name="TreeWalker">

        <!-- Indentation / lisibilitÃ© -->
        <module name="NeedBraces"/>
        <module name="AvoidNestedBlocks"/>
        <module name="EmptyBlock">
            <property name="option" value="text"/>
        </module>

        <!-- Nommage basique -->
        <module name="TypeName"/>
        <module name="MethodName">
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="ParameterName"/>
        <module name="LocalVariableName"/>

        <!-- Bonnes pratiques -->
        <!-- <module name="FinalParameters"/> -->
        <module name="UnusedImports"/>
        <module name="AvoidStarImport"/>
    </module>

    <!-- Longueur ligne (souple) -->
    <module name="LineLength">
        <property name="max" value="140"/>
        <property name="ignorePattern" value="^package|^import|http://|https://"/>
    </module>
</module>
```

Ce fichier dÃ©finit :
* des rÃ¨gles de nommage
* des rÃ¨gles de lisibilitÃ©
* des rÃ¨gles de bonnes pratiques

*Lâ€™objectif nâ€™est pas de â€œpunirâ€, mais de standardiser le code.*

### Ã‰tape 3 â€“ Tester la qualitÃ© en local
Avant la CI, vÃ©rifiez localement :
```bash
mvn verify -DskipTests
```
RÃ©sultat attendu
* le build Ã©choue si une rÃ¨gle de qualitÃ© nâ€™est pas respectÃ©e
* le build passe si le code est propre

### Ã‰tape 4 â€“ Ajouter un job quality dans la pipeline CI
Modifiez votre pipeline CI pour ajouter un troisiÃ¨me job :
1. unit-tests
2. quality
3. integration-tests
   RÃ¨gles de dÃ©pendance
* quality ne sâ€™exÃ©cute que si les tests unitaires passent
* integration-tests ne sâ€™exÃ©cute que si quality rÃ©ussit

*La pipeline devient une chaÃ®ne de validation progressive.*